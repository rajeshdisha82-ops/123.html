<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Smart Route Optimizer</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{font-family:Arial;background:#eef2ff;padding:10px}
button{width:100%;padding:10px;font-size:16px;margin-top:10px;}
#out{background:#fff;padding:10px;margin-top:10px;border-radius:8px}
</style>
</head>
<body>

<h2>ðŸš— Route Optimizer</h2>

<button onclick="calc()">Calculate Best Route</button>

<div id="out"></div>

<script>
const petrolPrice = 105; // â‚¹ per litre
const mileage = 15;       // km per litre

const start = "Royapuram, Chennai";

// List of places you want to visit
const places = [
  "Triplicane, Chennai",
  "Sowcarpet, Chennai",
  "Tambaram, Chennai",
  "Avadi, Chennai",
  "Kaveripakkam, Tamil Nadu",
  "Walajabad, Tamil Nadu",
  "Kundrathur, Chennai"
];

function calc(){
  const service = new google.maps.DistanceMatrixService();
  const locations = [start, ...places, start]; // start and end same

  service.getDistanceMatrix({
    origins: locations,
    destinations: locations,
    travelMode: 'DRIVING'
  }, (response, status) => {
    if(status !== "OK") { alert("API Error: "+status); return; }

    let totalKm = 0;
    let totalTime = 0;
    let n = locations.length;

    // Simple sequential route (Viagra app style)
    for(let i=0;i<n-1;i++){
      let d = response.rows[i].elements[i+1];
      totalKm += d.distance.value / 1000;
      totalTime += d.duration.value / 3600;
    }

    let petrol = totalKm / mileage;
    let cost = petrol * petrolPrice;

    document.getElementById("out").innerHTML = `
      <b>Route:</b><br> ${locations.join(" â†’ ")} <br><br>
      <b>Total KM:</b> ${totalKm.toFixed(1)} km <br>
      <b>Total Time:</b> ${totalTime.toFixed(1)} hours <br>
      <b>Petrol Required:</b> ${petrol.toFixed(1)} litre <br>
      <b>Petrol Cost:</b> â‚¹${cost.toFixed(0)}
    `;
  });
}
</script>

<!-- Replace YOUR_API_KEY with your Google Maps API Key -->
<script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY"></script>

</body>
</html>
